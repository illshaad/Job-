(this.webpackJsonpjobdoctegestio=this.webpackJsonpjobdoctegestio||[]).push([[0],{201:function(e,a,t){e.exports=t(356)},206:function(e,a,t){},207:function(e,a,t){},356:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(47),i=t.n(r),o=(t(206),t(21)),s=t(57),c=t(15),u=(t(207),t(20)),m=t.n(u),d=t(32),p=t(189),h=t(365),b=t(373),f=t(170),E=t.n(f),g=t(23),v=t.n(g),_="https://embarquer-back-dot-projet-test-doctegestio.uc.r.appspot.com";function C(e){var a=e.setDataFromAPI,t=Object(c.f)(),n=function(){var e=Object(d.a)(m.a.mark((function e(n){var l,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,n.profileObj.email;case 3:return l=e.sent,e.next=6,v.a.post("https://gsuite-api-dot-projet-test-doctegestio.uc.r.appspot.com/getGsuiteUser",{email:l}).then((function(e){a(e.data)}));case 6:return e.next=8,l.split("@")[0].replace(".","/");case 8:return r=e.sent,localStorage.setItem("name",l),e.next=12,v.a.post("".concat(_,"/gestionPerso"),{email:localStorage.getItem("name")}).then((function(e){t.push("/collaborateur/".concat(r))}));case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(p.a,{style:{marginTop:100},src:"./Doctegestio.png",size:"medium",centered:"true"}),l.a.createElement(p.a,{src:"./pcDocte.png",style:{marginTop:30},size:"small",centered:"true"}),l.a.createElement(h.a,null,l.a.createElement(b.a,{style:{marginTop:30}},l.a.createElement("p",{style:{textAlign:"center"}},"Nous avons besoin de vous authentifier pour vous donner l'acc\xe8s \xe0 l'application."),l.a.createElement("div",{className:"google"},l.a.createElement(E.a,{icon:"false",clientId:"738893670779-omra2br2npas2nao7et5p443iu4ajc17.apps.googleusercontent.com",render:function(e){return l.a.createElement("button",{onClick:e.onClick,disabled:e.disabled},"Se connecter avec Doctegestio")},buttonText:"Login",onSuccess:n,onFailure:n,cookiePolicy:"single_host_origin"})))))}var S=t(17),j=t(24),I=t(374);function A(e){var a=e.title,t=e.name,n=e.handleChangeFile,r=e.disable;return l.a.createElement(I.a.Column,null,l.a.createElement(I.a.Row,null,l.a.createElement("h4",null,a),l.a.createElement("input",{type:"file",name:t,disabled:r,onChange:function(e){n(e)}})))}var O=t(368);function R(e){var a=e.handleChange,t=e.disable,n=e.informations;return console.log(n,"GENRE"),l.a.createElement(I.a,null,l.a.createElement("div",{className:"autoCompletTitre"},"Genre"),l.a.createElement(O.a,{onChange:a,placeholder:"Genre",fluid:!0,search:!0,name:"genre",disabled:t,selection:!0,value:n,options:[{key:"Homme",value:"Homme",text:"Homme"},{key:"Femme",value:"Femme",text:"Femme"}]}))}function F(e){var a=e.title,t=e.name,n=e.handleChangeFile,r=e.disable;return l.a.createElement(I.a.Column,null,l.a.createElement(I.a.Row,null,l.a.createElement("h4",null,a),l.a.createElement("input",{type:"file",name:t,disabled:r,onChange:function(e){n(e)},multiple:!0})))}var P=t(88),N=t(366),D=t(371),w=[{key:"Oui",text:"Oui",value:"Oui"},{key:"Non",text:"Non",value:"Non"}];function x(e){var a=e.informations,t=e.informationsRH,n=e.handleChange,r=e.disable;return l.a.createElement(I.a,null,l.a.createElement("div",{className:"autoCompletTitre"},"Formation ERP S\xe9curit\xe9 Incendie"),l.a.createElement(O.a,{placeholder:"Formation ERP S\xe9curit\xe9 Incendie",name:"erp",onChange:n,fluid:!0,disabled:r,value:a.erp||t.erp,selection:!0,options:w}))}function y(e){var a=e.url,t=e.informations,r=e.informationsRH,i=e.title,s=e.name,c=e.handleChange,u=e.disable,p=Object(n.useState)([]),h=Object(o.a)(p,2),b=h[0],f=h[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(a);case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),l.a.createElement(I.a,null,l.a.createElement("div",{className:"autoCompletTitre"},i),l.a.createElement(O.a,{onChange:c,placeholder:i,fluid:!0,search:!0,name:s,disabled:u,selection:!0,value:t[s]||r[s],options:b}))}function T(e){var a=e.dataFromAPI,t=e.disable,r=e.informationsRH,i=e.updateCollaborateur,s=e.updateFileCollaborateur,u=Object(n.useState)({materiels:"",contrat:"",declaration:"",fichedeposte:"",fichesynthetique:"",avantagesennature:"",mutuelle:"",onboarding:"",fonctiondigitalsecondaire:"",datePriseDeFonction:"",telephonetravail:"",telephonemobile:"",adressetravail:"",classification:"",niveau:"",coefficient:"",indice:"",remunerationbrutemensuelle:"",remunerationbrutejournaliere:"",remunerationbruteannuelle:"",remunerationbrutehoraire:"",nombreheureshebdomadairedusalarie:"",nombreheuresmensueldusalarie:"",activite:"",emailresponsable:"",etablissement:"",juridique:"",collaborateur:"",fonctiondigital:"",convention:"",erp:"",naturetravail:"",tempstravail:""}),p=Object(o.a)(u,2),b=p[0],f=p[1];console.log(b,"RH");var E=Object(c.f)(),g=Object(n.useState)(),C=Object(o.a)(g,2),O=C[0],R=C[1],F=Object(n.useState)(),w=Object(o.a)(F,2),T=w[0],k=w[1];Object(n.useEffect)((function(){f({collaborateur:a.organizations?a.organizations[0].description:"",fonctiondigital:a.customSchemas.Attributs_supplementaires.Fonction_digitale_principale?a.customSchemas.Attributs_supplementaires.Fonction_digitale_principale:"",fonctiondigitalsecondaire:a.customSchemas.Attributs_supplementaires.Fonction_digitale_minuscules?a.customSchemas.Attributs_supplementaires.Fonction_digitale_minuscules.map((function(e){return e.value})):"",emailresponsable:a.relations?a.relations[0].value:"",etablissement:a.customSchemas.Attributs_supplementaires.Etablissement_digital?a.customSchemas.Attributs_supplementaires.Etablissement_digital:"",datePriseDeFonction:a.customSchemas.Attributs_personnaliss.Date_de_la_prise_de_fonction?a.customSchemas.Attributs_personnaliss.Date_de_la_prise_de_fonction:"",activite:a.customSchemas.Attributs_supplementaires.Activits?a.customSchemas.Attributs_supplementaires.Activits[0].value:"",juridique:a.customSchemas.Attributs_supplementaires.Structure_Jurdique?a.customSchemas.Attributs_supplementaires.Structure_Jurdique:"",telephonetravail:a.phones.value?a.phones[1].value:"",naturetravail:a.customSchemas.Attributs_personnaliss.Nature_de_la_relation_de_travail?a.customSchemas.Attributs_personnaliss.Nature_de_la_relation_de_travail:"",classification:a.customSchemas.Attributs_personnaliss.Classification?a.customSchemas.Attributs_personnaliss.Classification:"",tempstravail:a.customSchemas.Attributs_personnaliss.Temps_de_travail?a.customSchemas.Attributs_personnaliss.Temps_de_travail:"",niveau:a.customSchemas.Attributs_personnaliss.Niveau?a.customSchemas.Attributs_personnaliss.Niveau:"",convention:a.customSchemas.Attributs_personnaliss.Convention_collective?a.customSchemas.Attributs_personnaliss.Convention_collective:"",coefficient:a.customSchemas.Attributs_personnaliss.Coefficient?a.customSchemas.Attributs_personnaliss.Coefficient:"",indice:a.customSchemas.Attributs_personnaliss.Indice?a.customSchemas.Attributs_personnaliss.Indice:"",remunerationbruteannuelle:a.customSchemas.Attributs_personnaliss.Rmunration_brute_annuelle2?a.customSchemas.Attributs_personnaliss.Rmunration_brute_annuelle2:"",nombreheuresmensueldusalarie:a.customSchemas.Attributs_personnaliss.Nombre_dheures_mensuel_du_salari?a.customSchemas.Attributs_personnaliss.Nombre_dheures_mensuel_du_salari:"",remunerationbrutemensuelle:a.customSchemas.Attributs_personnaliss.Rmunration_brute_mensuelle?a.customSchemas.Attributs_personnaliss.Rmunration_brute_mensuelle:"",remunerationbrutehoraire:a.customSchemas.Attributs_personnaliss.Rmunration_brute_horaire?a.customSchemas.Attributs_personnaliss.Rmunration_brute_horaire:"",remunerationbrutejournaliere:a.customSchemas.Attributs_personnaliss.Rmunration_brute_journalire?a.customSchemas.Attributs_personnaliss.Rmunration_brute_journalire:"",nombreheureshebdomadairedusalarie:a.customSchemas.Attributs_personnaliss.Nombre_dheures_hebdomadaire_du_salari?a.customSchemas.Attributs_personnaliss.Nombre_dheures_hebdomadaire_du_salari:"",erp:a.customSchemas.Attributs_personnaliss.Formation_ERP_Scurit_Incendie?a.customSchemas.Attributs_personnaliss.Formation_ERP_Scurit_Incendie:""})}),[a]);var q=function(e,a){var t=a.value,n=a.name;f(Object(S.a)(Object(S.a)({},b),{},Object(j.a)({},e.target.name||n,t))),R(Object(S.a)(Object(S.a)({},O),{},Object(j.a)({},e.target.name||n,t)))},H=function(e){f(Object(S.a)(Object(S.a)({},b),{},Object(j.a)({},e.target.name,e.target.files[0]))),k(Object(S.a)(Object(S.a)({},T),{},Object(j.a)({},e.target.name,e.target.files[0])))},z=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t,n,l,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in e.prev=0,a=Object.assign(i,O),t=Object.assign(s,T),n=Object.keys(t),l=new FormData,r=localStorage.getItem("name"),l.append("email",r),n)l.append(n[o],t[n[o]]);return e.next=10,v()({method:"post",url:"https://gsuite-api-dot-projet-test-doctegestio.uc.r.appspot.com/updateGSuiteUser",data:a});case 10:return e.sent,e.next=13,v()({method:"post",url:"".concat(_,"/file"),data:l});case 13:e.sent,R({}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error",e.t0.response.data.errors);case 20:E.push("/ok");case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(h.a,null,l.a.createElement(I.a,{columns:2},l.a.createElement(I.a.Row,null,l.a.createElement(P.a,{circular:!0,size:"massive"},"2"),l.a.createElement("h3",null,"Informations \xe0 remplir par gestionpersonnel"))),l.a.createElement(I.a,{columns:3},l.a.createElement(I.a.Row,null,l.a.createElement(I.a.Column,null,l.a.createElement(y,{url:"".concat(_,"/api/user"),title:"Type de collaborateur",name:"collaborateur",informations:b,informationsRH:r,handleChange:q,disable:t}),l.a.createElement(N.a.Input,{fluid:!0,name:"emailresponsable",value:b.emailresponsable||r.emailresponsable,onChange:q,label:"Email Responsable",placeholder:"Email Responsable",disabled:t}),l.a.createElement(y,{url:"".concat(_,"/api/activities"),title:"Activite",name:"activite",informations:b,informationsRH:r,handleChange:q,disable:t})),l.a.createElement(I.a.Column,null,l.a.createElement(y,{url:"".concat(_,"/api/fonction"),title:"Fonction digitale principale",name:"fonctiondigital",informations:b,informationsRH:r,handleChange:q,disable:t}),l.a.createElement(y,{url:"".concat(_,"/api/etablissement"),title:"Etablissement digital",name:"etablissement",informations:b,informationsRH:r,handleChange:q,disable:t}),l.a.createElement(y,{url:"".concat(_,"/juridiqueData"),title:"Structure Juridique",name:"juridique",informations:b,informationsRH:r,handleChange:q,disable:t})),l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"fonctiondigitalsecondaire",value:b.fonctiondigitalsecondaire||r.fonctiondigitalsecondaire,onChange:q,label:"Fonction(s) digitale(s) secondaire(s)",placeholder:"Fonction(s) digitale(s) secondaire(s)",disabled:t}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:" datePriseDeFonction",value:b.datePriseDeFonction||r.datePriseDeFonction,onChange:q,label:"Date de prise de fonction",placeholder:"Date de prise de fonction",disabled:t})))),l.a.createElement(I.a,{columns:3},l.a.createElement(I.a.Row,null,l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"telephonetravail",value:b.telephonetravail||r.telephonetravail,onChange:q,label:"T\xe9l\xe9phone (Travail)",placeholder:"T\xe9l\xe9phone (Travail)",disabled:t}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"telephonemobile",value:b.telephonemobile||r.telephonemobile,onChange:q,label:"T\xe9l\xe9phone (Mobile)",placeholder:"T\xe9l\xe9phone (Mobile)",disabled:t}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"adressetravail",value:b.adressetravail||r.adressetravail,onChange:q,label:"Adresse (Travail)",placeholder:"Adresse (Travail)",disabled:t}),l.a.createElement("br",null)),l.a.createElement(I.a.Column,null,l.a.createElement(y,{url:"".concat(_,"/natureData"),title:"Nature de la relation de travail",name:"naturetravail",informations:b,informationsRH:r,handleChange:q,disable:t}),l.a.createElement(y,{url:"".concat(_,"/api/tempsTravail"),title:"Temps travail",name:"tempstravail",informations:b,informationsRH:r,handleChange:q,disable:t}),l.a.createElement(y,{url:"".concat(_,"/conventionData"),title:"Convention Collective",name:"convention",informations:b,informationsRH:r,handleChange:q,disable:t})),l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"classification",onChange:q,value:b.classification||r.classification,label:"Classification",placeholder:"Classification",disabled:t}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"niveau",onChange:q,value:b.niveau||r.niveau,label:"Niveau",placeholder:"Niveau",disabled:t}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"coefficient",onChange:q,value:b.coefficient||r.coefficient,label:"Coefficient",placeholder:"Coefficient",disabled:t})))),l.a.createElement(I.a,{columns:3},l.a.createElement(I.a.Row,null,l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"indice",value:b.indice||r.indice,onChange:q,label:"Indice",placeholder:"Indice",disabled:t}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"remunerationbrutemensuelle",value:b.remunerationbrutemensuelle||r.remunerationbrutemensuelle,onChange:q,label:"R\xe9mun\xe9ration brute mensuelle",placeholder:"R\xe9mun\xe9ration brute mensuelle",disabled:t}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"remunerationbrutejournaliere",value:b.remunerationbrutejournaliere||r.remunerationbrutejournaliere,onChange:q,label:"R\xe9mun\xe9ration brute journali\xe8re",placeholder:"R\xe9mun\xe9ration brute journali\xe8re",disabled:t})),l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"remunerationbruteannuelle",value:b.remunerationbruteannuelle||r.remunerationbruteannuelle,onChange:q,label:"R\xe9mun\xe9ration brute annuelle",placeholder:"R\xe9mun\xe9ration brute annuelle",disabled:t}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"remunerationbrutehoraire",value:b.remunerationbrutehoraire||r.remunerationbrutehoraire,onChange:q,label:"R\xe9mun\xe9ration brute horaire",placeholder:"R\xe9mun\xe9ration brute horaire",disabled:t}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"nombreheureshebdomadairedusalarie",value:b.nombreheureshebdomadairedusalarie||r.nombreheureshebdomadairedusalarie,onChange:q,label:"Nombre d'heures hebdomadaire du salari\xe9",placeholder:"Nombre d'heures hebdomadaire du salari\xe9",disabled:t})),l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"nombreheuresmensueldusalarie",value:b.nombreheuresmensueldusalarie||r.nombreheureshebdomadairedusalarie,onChange:q,label:"Nombre d'heures mensuel du salari\xe9",placeholder:"Nombre d'heures mensuel du salari\xe9",disabled:t}),l.a.createElement("br",null),l.a.createElement(x,{handleChange:q,informations:b,informationsRH:r,disable:t})))),l.a.createElement(N.a,null,l.a.createElement("h3",null,"Documents \xe0 fournir par gestionpersonnel (10/30)"),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(A,{disable:t,informations:b,setInformations:f,title:"Chartes d'utilisation de mat\xe9riels et pratiques",handleChangeFile:H,name:"materiels"}),l.a.createElement(A,{disable:t,informations:b,setInformations:f,title:"Contrat de travail ou contrat de prestation ou convention de stage et promesse d'embauche",handleChangeFile:H,name:"contrat"}),l.a.createElement(A,{disable:t,informations:b,setInformations:f,title:"D\xe9claration pr\xe9alable \xe0 l'embauche (DPAE)",handleChangeFile:H,name:"declaration"})),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(A,{disable:t,informations:b,setInformations:f,title:"Fiche de poste",handleChangeFile:H,name:"fichedeposte"}),l.a.createElement(A,{disable:t,informations:b,setInformations:f,title:"Fiche signal\xe9tique synth\xe9tique",handleChangeFile:H,name:"fichesynthetique"}),l.a.createElement(A,{disable:t,informations:b,setInformations:f,title:"Mise \xe0 disposition d'avantages en nature",handleChangeFile:H,name:"avantagesennature"})),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(A,{disable:t,informations:b,setInformations:f,title:"Mutuelle et pr\xe9voyance",handleChangeFile:H,name:"mutuelle"}),l.a.createElement(A,{disable:t,informations:b,setInformations:f,title:"Onboarding",handleChangeFile:H,name:"onboarding"})),!0!==t?l.a.createElement(D.a,{primary:!0,onClick:z},"Enregistrer les donn\xe9es"):null))}var k=t(372),q=t(62),H=t(369),z=t(370);function M(e){var a=e.dataFromAPI,t=e.setDataFromAPI;console.log(a);var r=Object(n.useState)(Object(j.a)({_id:"",prenom:"",nom:"",genre:"",nomnaissance:"",datenaissance:"",villedenaissance:"",nationalite:"",numerosecurite:"",ville:"",addresse:"",cp:"",email:"",telephonePerso:"",telephoneDomicile:"",telephoneUrgence:"",rpps:"",numeroDepartemental:"",departementConseil:"",specialitePratiquee:"",carnetVaccination:"",carteIdentite:"",cartePassport:"",carteSejour:"",carteVital:"",cv:"",diplomes:"",permisConduire:"",assuranceAutomobile:"",photo:"",RIB:"",conseildelordre:"",ONCD:"",RCP:"",radioProtectionPatients:"",radioProtectionTravailleurs:"","mat\xe9riels":"","d\xe9claration":"",fichedeposte:"",fichesynthetique:"",avantagesennature:"",mutuelle:"",onboarding:"",adli:"",aptitudeMedicale:"",attestationAssuranceHabitation:"",autreContratsTravailCours:"",lettreMotivation:"",casierJudiciaire:""},"genre","")),i=Object(o.a)(r,2),s=i[0],u=i[1],f=Object(c.f)(),E=Object(n.useState)(""),g=Object(o.a)(E,2),C=g[0],w=g[1],x=Object(n.useState)({}),y=Object(o.a)(x,2),M=y[0],V=y[1],G=Object(n.useState)({email:localStorage.getItem("name")}),U=Object(o.a)(G,2),J=U[0],B=U[1],L=Object(n.useState)(),W=Object(o.a)(L,2),$=W[0],K=W[1],Q=Object(n.useState)(""),X=Object(o.a)(Q,2),Y=X[0],Z=X[1],ee=Object(n.useState)([]),ae=Object(o.a)(ee,2),te=ae[0],ne=ae[1],le=Object(n.useState)(!1),re=Object(o.a)(le,2),ie=re[0],oe=re[1];Object(n.useEffect)((function(){v.a.post("".concat(_,"/gestionPerso"),{email:localStorage.getItem("name")}).then((function(e){V(e.data.isCollabo)}))}),[]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(_,"/idCollaborateur"),{email:localStorage.getItem("name")});case 2:a=e.sent,ne(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){M&&u({prenom:a.name.givenName?a.name.givenName:"",nom:a.name.familyName?a.name.familyName:"",genre:a.customSchemas.Attributs_personnaliss.Sexe?a.customSchemas.Attributs_personnaliss.Sexe:"",nomnaissance:a.name.familyName?a.name.familyName:"",datenaissance:a.customSchemas.Attributs_personnaliss.Date_de_naissance?a.customSchemas.Attributs_personnaliss.Date_de_naissance:"",addresse:a.customSchemas.Attributs_personnaliss.Adresse_personnel?a.customSchemas.Attributs_personnaliss.Adresse_personnel:"",cp:a.customSchemas.Attributs_personnaliss.Code_postal_personnel?a.customSchemas.Attributs_personnaliss.Code_postal_personnel:"",ville:a.customSchemas.Attributs_personnaliss.Commune_personnel?a.customSchemas.Attributs_personnaliss.Commune_personnel:"",villedenaissance:a.customSchemas.Attributs_personnaliss.Lieu_de_naissance?a.customSchemas.Attributs_personnaliss.Lieu_de_naissance:"",numerosecurite:a.customSchemas.Attributs_personnaliss.Scurit_sociale?a.customSchemas.Attributs_personnaliss.Scurit_sociale:"",nationalite:a.customSchemas.Attributs_personnaliss.Nationalit?a.customSchemas.Attributs_personnaliss.Nationalit:"",email:a.emails?a.emails[0].address:"",telephonePerso:a.recoveryPhone?a.recoveryPhone:"",telephoneDomicile:a.customSchemas.Attributs_personnaliss.Tlphone_domicile?a.customSchemas.Attributs_personnaliss.Tlphone_domicile:"",telephoneUrgence:a.customSchemas.Attributs_personnaliss.Tlphone__appeler_en_cas_durgence?a.customSchemas.Attributs_personnaliss.Tlphone__appeler_en_cas_durgence:""})}),[M,a]),console.log(s,"API ");var se=function(e,a){var t=a.value,n=a.name;u(Object(S.a)(Object(S.a)({},s),{},Object(j.a)({},e.target.name||n,t))),B(Object(S.a)(Object(S.a)({},J),{},Object(j.a)({},e.target.name||n,t))),Z(Object(S.a)(Object(S.a)({},Y),{},Object(j.a)({},n,t)))},ce=function(e){u(Object(S.a)(Object(S.a)({},s),{},Object(j.a)({},e.target.name,e.target.files[0]))),K(Object(S.a)(Object(S.a)({},$),{},Object(j.a)({},e.target.name,e.target.files[0])))},ue=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("https://gsuite-api-dot-projet-test-doctegestio.uc.r.appspot.com/getGsuiteUser",{email:Y.email}).then((function(e){t(e.data);var a=Y.email.split("@")[0].replace(".","/");f.push("/collaborateur/".concat(a))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(m.a.mark((function e(){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("name"),e.next=3,v.a.post("https://gsuite-api-dot-projet-test-doctegestio.uc.r.appspot.com/getGsuiteUser",{email:a}).then((function(e){t(e.data)}));case 3:n=a.split("@")[0].replace(".","/"),f.push("/collaborateur/".concat(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t,n,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in e.prev=0,a=Object.keys($),t=new FormData,n=localStorage.getItem("name"),t.append("email",n),a)t.append(a[l],$[a[l]]);return e.next=8,v()({method:"post",url:"https://gsuite-api-dot-projet-test-doctegestio.uc.r.appspot.com/updateGSuiteUser",data:J});case 8:return e.sent,e.next=11,v()({method:"post",url:"".concat(_,"/file"),data:t});case 11:e.sent,B({}),w("Donn\xe9e enregistrer"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:f.push("/ok");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{size:"massive"},M?l.a.createElement(q.a,{className:"burger",name:"bars",size:"large",onClick:function(){return oe(!0)},label:{children:l.a.createElement("code",null,"visible")}}):null,l.a.createElement(k.a.Item,{name:"Embarquer"}),l.a.createElement(k.a.Menu,{position:"right"},l.a.createElement(k.a.Item,null,localStorage.getItem("name")))),l.a.createElement(I.a.Column,null,l.a.createElement(H.a.Pushable,{as:b.a},l.a.createElement(H.a,{as:k.a,animation:"overlay",icon:"labeled",inverted:!0,onHide:function(){return oe(!1)},vertical:!0,visible:ie,width:"wide"},l.a.createElement(k.a.Item,null,l.a.createElement("h5",{className:"informations",onClick:me},"Mes informations"),l.a.createElement("h5",null,"Mes collaborateurs"),l.a.createElement("h5",null,"Les collaborateurs de mon p\xe9rim\xe8tre (RH)"),l.a.createElement(O.a,{name:"email",onChange:se,placeholder:"Collaborateur",fluid:!0,search:!0,options:te}),l.a.createElement(D.a,{className:"buttonRh",size:"mini",onClick:ue},"Ok"))),l.a.createElement(H.a.Pusher,{dimmed:ie},l.a.createElement(h.a,null,M?l.a.createElement(p.a,{src:"/rh.jpg",size:"huge",centered:"true"}):l.a.createElement(p.a,{src:"/Embarquer.png",size:"huge",centered:"true"}),l.a.createElement(I.a.Row,null,l.a.createElement(P.a,{circular:!0,size:"massive"},"1"),l.a.createElement("h3",null,"Informations \xe0 remplir par le collaborateur (5/15)")),l.a.createElement(I.a,{columns:3},l.a.createElement(I.a.Row,null,l.a.createElement(I.a.Column,null,l.a.createElement("b",null,"Prenom"),l.a.createElement(N.a.Input,{fluid:!0,name:"prenom",value:s.prenom,onChange:se,placeholder:"Pr\xe9nom"}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"datenaissance",value:s.datenaissance,onChange:se,label:"Date de naissance",placeholder:"Date de naissance"}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"addresse",value:s.addresse,onChange:se,label:"Addresse",placeholder:"Addresse"}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"email",value:s.email,onChange:se,label:"Email (personnel)",placeholder:"Email (personnel)"})),l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"nom",value:s.nom,onChange:se,label:"Nom",placeholder:"Nom"}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"villedenaissance",value:s.villedenaissance,onChange:se,label:"Ville de naissance",placeholder:"Ville de naissance"}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"cp",value:s.cp,onChange:se,label:"Code postal",placeholder:"Code postal"}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"numerosecurite",value:s.numerosecurite,onChange:se,label:"N\xb0 s\xe9curite social",placeholder:"N\xb0 s\xe9curite social"})),l.a.createElement(I.a.Column,null,l.a.createElement(R,{title:"Genre",name:"genre",informations:s.genre,handleChange:se}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"nomnaissance",value:s.nomnaissance,onChange:se,label:"Nom de naissance",placeholder:"Nom de naissance"}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"ville",value:s.ville,onChange:se,label:"Ville",placeholder:"Ville"}),l.a.createElement("br",null),l.a.createElement(N.a.Input,{fluid:!0,name:"nationalite",value:s.nationalite,onChange:se,label:"Nationalit\xe9",placeholder:"Nationalit\xe9"})))),l.a.createElement(I.a,{columns:3},l.a.createElement(I.a.Row,null,l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"telephonePerso",value:s.telephonePerso,onChange:se,label:"T\xe9l\xe9phone portable (personnel)",placeholder:"T\xe9l\xe9phone portable (personnel)"})),l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"telephoneDomicile",value:s.telephoneDomicile,onChange:se,label:"T\xe9l\xe9phone domicile",placeholder:"T\xe9l\xe9phone domicile"})),l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"telephoneUrgence",value:s.telephoneUrgence,onChange:se,label:"T\xe9l\xe9phone \xe0 appeler en cas d'urgence",placeholder:"T\xe9l\xe9phone \xe0 appeler en cas d'urgence"})),l.a.createElement(I.a.Column,null))),l.a.createElement(N.a,null,l.a.createElement("br",null),l.a.createElement(b.a,{className:"segmentPerso",size:"small"},"R\xe9serv\xe9 aux praticiens (1/4)"),l.a.createElement(I.a,{columns:3},l.a.createElement(I.a.Row,null,l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"rpps",onChange:se,value:s.rpps,label:"N\xb0 RPPS",placeholder:"N\xb0 RPPS"}),l.a.createElement(N.a.Input,{fluid:!0,name:"numeroDepartemental",value:s.numeroDepartemental,onChange:se,label:"N\xb0 D\xe9partemental Conseil de l\u2019Ordre",placeholder:"N\xb0 D\xe9partemental Conseil de l\u2019Ordre"})),l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"departementConseil",value:s.departementConseil,onChange:se,label:"D\xe9partement Conseil de l\u2019Ordre",placeholder:"D\xe9partement Conseil de l\u2019Ordre"})),l.a.createElement(I.a.Column,null,l.a.createElement(N.a.Input,{fluid:!0,name:"specialitePratiquee",value:s.specialitePratiquee,onChange:se,label:"Sp\xe9cialit\xe9 pratiqu\xe9e au centre",placeholder:"Sp\xe9cialit\xe9 pratiqu\xe9e au centre"})))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Documents \xe0 fournir par le collaborateur (10/15)"),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(I.a.Row,null,l.a.createElement(A,{informations:s,setInformations:u,title:"Carte national ou passport ",handleChangeFile:ce,name:"carteIdentitePassport"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Carte Vital",handleChangeFile:ce,name:"carteVital"}),l.a.createElement(F,{informations:s,setInformations:u,title:"CV",handleChangeFile:ce,name:"cv"}))),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(I.a.Row,null,l.a.createElement(A,{informations:s,setInformations:u,title:"Carnet Vaccinal",handleChangeFile:ce,name:"carnetVaccination"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Dipl\xf4mes",handleChangeFile:ce,name:"diplomes"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Photo",handleChangeFile:ce,name:"photo"}))),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(I.a.Row,null,l.a.createElement(A,{informations:s,setInformations:u,title:"RIB",handleChangeFile:ce,name:"RIB"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Aptitude m\xe9dicale au travail",handleChangeFile:ce,name:"aptitudeMedicale"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Permis de conduire",handleChangeFile:ce,name:"permisConduire"}))),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(I.a.Row,null,l.a.createElement(A,{informations:s,setInformations:u,title:"Assurance automobile",handleChangeFile:ce,name:"assuranceAutomobile"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Attestation assurance habitation",handleChangeFile:ce,name:"attestationAssuranceHabitation"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Autres contrats de travail en cours",handleChangeFile:ce,name:"autreContratsTravailCours"}))),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(I.a.Row,null,l.a.createElement(A,{informations:s,setInformations:u,title:"Lettre de motivation",handleChangeFile:ce,name:"lettreMotivation"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Carte de s\xe9jour",handleChangeFile:ce,name:"carteSejour"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Extrait de casier judiciaire ",handleChangeFile:ce,name:"casierJudiciaire"}))),l.a.createElement(b.a,{className:"segmentPerso",size:"small"},"R\xe9serv\xe9 aux praticiens (3/5)"),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(I.a.Row,null,l.a.createElement(A,{informations:s,setInformations:u,title:"Attestion d'assurance RCP",handleChangeFile:ce,name:"RCP"}),l.a.createElement(A,{informations:s,setInformations:u,title:"ONCD",handleChangeFile:ce,name:"ONCD"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Attestation d\u2019inscription au tableau du conseil de l\u2019Ordre",handleChangeFile:ce,name:"conseildelordre"}))),l.a.createElement(I.a,{columns:3,divided:!0},l.a.createElement(I.a.Row,null,l.a.createElement(A,{informations:s,setInformations:u,title:"Attestation de formation \xe0 la Radioprotection patients",handleChangeFile:ce,name:"radioProtectionPatients"}),l.a.createElement(A,{informations:s,setInformations:u,title:"Attestation de formation \xe0 la Radioprotection travailleurs",handleChangeFile:ce,name:"radioProtectionTravailleurs"}))),!0!==M?l.a.createElement(D.a,{primary:!0,onClick:de},"Enregistrer les donn\xe9es"):null),l.a.createElement(T,{dataFromAPI:a,id:s._id,informationsRH:s,updateCollaborateur:J,updateFileCollaborateur:$,disable:!0!==M}),C?l.a.createElement(z.a,{positive:!0},l.a.createElement(z.a.Header,null,"Donn\xe9e enregistrer")):null)))))}function V(){var e=Object(c.f)();return setTimeout((function(){e.push("/")}),5e3),l.a.createElement(h.a,{textAlign:"center"},l.a.createElement("h1",{className:"end"},"Merci d'avoir utilis\xe9 l'application \"Embarquer\""),l.a.createElement("p",null,"Vous serez redirig\xe9 automatiquement \xe0 la page de connection"))}var G=function(){var e=Object(n.useState)({}),a=Object(o.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(),u=Object(o.a)(i,2),m=u[0];return u[1],l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement(c.c,null,l.a.createElement(c.a,{exact:!0,path:"/"},l.a.createElement(C,{setDataFromAPI:r})),l.a.createElement(c.a,{exact:!0,path:"/collaborateur/:prenom/:nom"},l.a.createElement(M,{dataFromAPI:t,setDataFromAPI:r,handleChange:m})),l.a.createElement(c.a,{exact:!0,path:"/ok"},l.a.createElement(V,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[201,1,2]]]);
//# sourceMappingURL=main.6b8a5e21.chunk.js.map