{"ast":null,"code":"var _jsxFileName = \"/Users/shadd/Desktop/jobdoctegestio/client/src/components/redirection.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Redirect, useParams } from \"react-router-dom\";\nimport axios from 'axios';\nexport default function Redirection() {\n  const [url, setUrl] = useState(\"\");\n  const [dataGestion, setDataGestion] = useState(''); //?mail=illshaad.budureea@dgmail.fr\n\n  const {\n    email\n  } = useParams();\n  useEffect(() => {\n    const callGestionPerso = async () => {\n      try {\n        const result = await axios.post(`http://localhost:3000/gestionPerso`);\n        setDataGestion(result.data);\n      } catch (error) {\n        console.log(\"error\");\n      }\n    };\n\n    callGestionPerso();\n    const nomPrenom = email.split(\"@\")[0].replace(\".\", \"/\");\n    setUrl(nomPrenom);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, url === undefined || url === '' ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 48\n    }\n  }, \"Redirection en cours...\") : /*#__PURE__*/React.createElement(Redirect, {\n    to: `/collaborateur/${url}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 85\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/shadd/Desktop/jobdoctegestio/client/src/components/redirection.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Redirect","useParams","axios","Redirection","url","setUrl","dataGestion","setDataGestion","email","callGestionPerso","result","post","data","error","console","log","nomPrenom","split","replace","undefined"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACIC,aAAa,IAAIC,MADrB,EAEIC,QAFJ,EAGIC,SAHJ,QAIO,kBAJP;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,WAAT,GAAuB;AAClC,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,EAAD,CAA9C,CAFkC,CAGlC;;AAEA,QAAM;AAAEY,IAAAA;AAAF,MAAYP,SAAS,EAA3B;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AAEZ,UAAMY,gBAAgB,GAAG,YAAY;AACjC,UAAI;AACA,cAAMC,MAAM,GAAG,MAAMR,KAAK,CAACS,IAAN,CAAY,oCAAZ,CAArB;AACAJ,QAAAA,cAAc,CAACG,MAAM,CAACE,IAAR,CAAd;AACH,OAHD,CAGE,OAAOC,KAAP,EAAc;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH;AACJ,KAPD;;AAQAN,IAAAA,gBAAgB;AAEhB,UAAMO,SAAS,GAAGR,KAAK,CAACS,KAAN,CAAY,GAAZ,EAAiB,CAAjB,EAAoBC,OAApB,CAA4B,GAA5B,EAAiC,GAAjC,CAAlB;AACAb,IAAAA,MAAM,CAACW,SAAD,CAAN;AACH,GAdQ,EAcN,EAdM,CAAT;AAeA,sBACI,0CACKZ,GAAG,KAAKe,SAAR,IAAqBf,GAAG,KAAK,EAA7B,gBAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAlC,gBAAuE,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAG,kBAAiBA,GAAI,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD5E,CADJ;AAKH","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {\n    BrowserRouter as Router,\n    Redirect,\n    useParams,\n} from \"react-router-dom\";\n\nimport axios from 'axios'\n\n\nexport default function Redirection() {\n    const [url, setUrl] = useState(\"\")\n    const [dataGestion, setDataGestion] = useState('')\n    //?mail=illshaad.budureea@dgmail.fr\n\n    const { email } = useParams();\n\n    useEffect(() => {\n\n        const callGestionPerso = async () => {\n            try {\n                const result = await axios.post(`http://localhost:3000/gestionPerso`)\n                setDataGestion(result.data)\n            } catch (error) {\n                console.log(\"error\");\n            }\n        }\n        callGestionPerso()\n\n        const nomPrenom = email.split(\"@\")[0].replace(\".\", \"/\")\n        setUrl(nomPrenom)\n    }, [])\n    return (\n        <>\n            {url === undefined || url === '' ? <div>Redirection en cours...</div> : <Redirect to={`/collaborateur/${url}`} />}\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}